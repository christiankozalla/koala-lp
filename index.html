<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>Koala Party</title>

    <meta name="robots" content="noindex,nofollow" />
    <meta name="AdsBot-Google" content="noindex" />
  </head>
  <body>
    <div class="container-md mx-auto bg-white overflow-hidden">
      <header>
        <div class="relative">
          <div
            class="relative z-20 py-12 mt-12 bg-white lg:max-w-4xl lg:w-full rounded-r-lg bg-gradient-to-r from-sky-200 to-white pl-4"
          >
            <div class="mx-auto max-w-7xl">
              <div class="sm:text-center lg:text-left">
                <h1
                  class="text-4xl tracking-tight font-extrabold text-gray-900 sm:text-5xl md:text-6xl"
                >
                  <span class="block xl:inline">Einladung zur</span>
                  <span class="block text-sky-700 xl:inline">Koala Party</span>
                </h1>
                <p
                  class="mt-3 text-base text-gray-700 sm:mt-5 sm:text-lg sm:max-w-xl sm:mx-auto md:mt-5 md:text-xl lg:mx-0 mr-4"
                >
                  Wir, das sind Stephie und Christian, laden dich herzlich zur
                  diesjährigen Koala-Sommer-Party am 16.07. bei uns in Glauchau
                  ein!
                </p>

                <h2
                  class="mt-3 sm:mt-5 text-3xl tracking-tight font-extrabold text-gray-900 sm:text-4xl md:text-5xl"
                >
                  Wann? Wie? Wo? Warum?
                </h2>
                <div
                  class="mt-3 text-base text-gray-700 sm:mt-5 sm:text-lg sm:max-w-2xl md:mt-5 md:text-xl mr-4 sm:mx-auto lg:mx-0"
                >
                  <div class="flex justify-between gap-4 mb-3">
                    <span><strong>Wann?</strong></span
                    ><span>Am Samstag, 16. Juli um 17 Uhr</span>
                  </div>
                  <div class="flex justify-between gap-4 mb-3">
                    <span><strong>Wo?</strong></span>
                    <address class="text-right">
                      Waldenburger Str. 10<br />08371 Glauchau
                    </address>
                  </div>
                  <div class="flex justify-between gap-4 mb-3">
                    <span><strong>Warum?</strong></span
                    ><span
                      >Um mal wieder kräftig mit euch allen zu feiern!</span
                    >
                  </div>
                </div>
                <div
                  class="mt-5 sm:mt-8 sm:flex sm:justify-center lg:justify-start mr-4"
                >
                  <div class="rounded-md shadow">
                    <a
                      href="#bin-dabei"
                      class="w-full block text-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-sky-700 hover:bg-sky-400 md:py-4 md:text-lg md:px-10 md:w-72"
                    >
                      Bin Dabei!
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="lg:absolute lg:inset-y-0 lg:right-0 lg:w-1/2">
          <picture>
            <source srcset="hero-sm.webp" media="(max-width: 640px)" />
            <source srcset="hero-lg.webp" media="(min-width: 641px)" />
            <!-- img tag acts as fallback if no match found or browser does not support <picture> -->
            <img
              class="h-56 w-full object-cover sm:h-72 md:h-96 lg:w-full lg:h-full rounded-lg md:rounded-none md:rounded-b-lg"
              src="hero-lg.jpg"
              alt="Farbenfrohe Lichter bei einer Bühnenshow"
            />
          </picture>
        </div>
      </header>

      <main>
        <section
          id="bin-dabei"
          class="relative my-10 sm:my-12 md:my-16 lg:my-20 xl:my-28 lg:py-24"
        >
          <div
            class="relative z-10 py-12 my-12 bg-white xl:max-w-4xl lg:w-3/4 rounded-l-lg bg-gradient-to-l from-amber-200 to-white ml-auto pl-12"
          >
            <h2
              class="text-3xl tracking-tight font-extrabold text-gray-900 sm:text-4xl md:text-5xl"
            >
              Bin dabei, wo soll ich unterschreiben?
            </h2>
            <p
              class="mt-3 text-base text-gray-700 sm:mt-5 sm:text-lg sm:max-w-xl md:mt-5 md:text-xl lg:mx-0"
            >
              Quatsch, füll einfach das Formular aus, um uns, Stephie und
              Christian, eine Nachricht zu senden! Wir freuen uns
              <span>mega auf dich!</span>
            </p>
            <p
              class="mt-3 mb-4 text-base text-gray-700 sm:mt-5 sm:text-lg sm:max-w-xl md:mt-5 md:text-xl lg:mx-0"
            >
              Wir sorgen für das leibliche Wohl mit Rostern und Fleisch zum
              Grillen &amp; einem Grundstock an Getränken.<br />Bringst du auch
              etwas mit? Ein Salat, Finger-Food oder süsser Nachtisch wäre super
              - was du gerne magst!
            </p>
          </div>
          <div class="lg:absolute lg:inset-y-0 lg:left-0 lg:w-1/2">
            <picture>
              <source srcset="pineapple-sm.webp" media="(max-width: 640px)" />
              <source srcset="pineapple-lg.webp" media="(min-width: 641px)" />
              <img
                class="h-56 w-full object-cover lg:object-right sm:h-72 md:h-96 lg:w-full lg:h-full rounded-lg"
                src="pineapple-lg.jpg"
                alt="Drei Ananasse zwischen Luftballons, die mittlere Ananas trägt eine Sonnenbrille"
              />
            </picture>
          </div>
        </section>
        <section class="mt-5 lg:mt-10 px-4">
          <h2
            class="text-3xl tracking-tight font-extrabold text-gray-900 sm:text-4xl md:text-5xl mb-5"
          >
            Flaschenpost an Stephie und Christian
          </h2>
          <div class="w-full lg:max-width-lg mx-auto">
            <form
              id="form"
              class="text-base text-gray-700 sm:text-lg md:text-xl"
            >
              <div class="flex flex-col sm:flex-row sm:gap-4 sm:items-center">
                <label for="name">Eure Namen</label>
                <input
                  type="text"
                  name="name"
                  id="name"
                  placeholder="Komma-separiert - Hans, Franz, Berta"
                  class="flex-grow px-4 py-2 border border-gray-300 rounded-md"
                />
              </div>
              <div
                class="flex sm:gap-4 flex-col sm:flex-row sm:items-center mt-5"
              >
                <label for="food">Wir bringen mit</label>
                <input
                  type="text"
                  id="food"
                  name="essen"
                  placeholder="Komma-separiert - Nudelsalat, Limo"
                  class="flex-grow px-4 py-2 border border-gray-300 rounded-md"
                />
              </div>
              <div class="mt-5">
                <label for="nachricht">Eure Nachricht an uns</label>
                <textarea
                  name="nachricht"
                  id="nachricht"
                  placeholder="Liebe Stephie, lieber Christian, :D"
                  rows="6"
                  class="block w-full sm:mt-2 px-4 py-2 border border-gray-300 rounded-md"
                ></textarea>
              </div>
              <div class="mt-5">
                <input
                  type="submit"
                  id="submit"
                  value="Senden"
                  class="w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-sky-700 hover:bg-sky-400 md:py-4 md:text-lg md:px-10"
                />
              </div>
            </form>
          </div>
        </section>
      </main>

      <!-- TODO -->
      <!-- Send-Mail / Database Endpoint -->
      <!-- Page shows what others already registered, how many guests already accepted -->
      <!-- add input for what guests want to bring -->
      <!-- Styles finishen -->

      <footer class="bg-gradient-to-tr from-amber-200 to-white mt-5">
        <p class="mx-auto px-8 py-4 text-base text-gray-500">
          Stephanie und Christian, hiernach
          <em>die party-ausrichtenden:innen</em> übernehmen keinerlei Haftung
          und/oder Verantwortung für schlechtes Wetter, unfreundliche Nachbarn
          oder jedwede Intervention lokaler oder nationaler Behörden. (*/**)
        </p>
      </footer>
    </div>
    <script type="text/javascript">
      const formEl = document.getElementById("form");
      formEl.addEventListener("submit", submitFetch);

      function submitFetch(event) {
        event.preventDefault();
        const formData = new FormData(this);

        const data = Object.fromEntries(formData.entries());

        try {
          fetch("http://127.0.0.1:4000", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify(data),
          })
            .then((response) => {
              // handle wake up time of dyno
              // check response.status or response.code
              if (reponse.status === "ok") {
                return response.json();
              } else {
                // Show error screen to the user - redirect OR display error message
                throw new Error("Bad request - try again");
              }
            })
            .then((jsonRes) => console.log(jsonRes));
        } catch (error) {
          if (error instanceof Error) console.warn(error.message);
          else console.warn(error);
        }
      }

      function submitXHR(event) {
        event.preventDefault();

        const request = new XMLHttpRequest();
        const formData = new FormData(this);

        request.open("POST", "http://localhost:4000/");
        request.send(formData);
      }
    </script>
  </body>
</html>
